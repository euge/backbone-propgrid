<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <title>Example Mocha Test</title>
  <link rel="stylesheet" href="mocha/css/mocha.css" type="text/css" charset="utf-8" />
</head>
<body>
  <!-- Required for browser reporter -->
  <div id="mocha"></div>
  
  <!-- mocha -->
  <script src="mocha/js/mocha.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
      // This will be overridden by mocha-helper if you run with grunt
      mocha.setup('bdd');
  </script>
  
  <!-- Include your assertion lib of choice -->
  <script src="mocha/js/chai.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
      // Setup chai
      var expect = chai.expect;
      
      chai.Assertion.addMethod('equalAsSets', function (otherArray) {
          var array = this._obj;

          expect(array).to.be.an.instanceOf(Array);
          expect(otherArray).to.be.an.instanceOf(Array);

          var diff = array.filter(function(i) {return !(otherArray.indexOf(i) > -1);});

          this.assert(
              diff.length === 0,
              "expected #{this} to be equal to #{exp} (as sets, i.e. no order)",
              array,
              otherArray
          );
      });
      
  </script>
  
  <!-- Include anything you want to test -->
  <script type="text/javascript" src="../lib/vendor/json2.js"></script>
  <script type="text/javascript" src="../lib/vendor/jquery-1.7.2.js"></script>
  <script type="text/javascript" src="../lib/vendor/underscore-1.3.1.min.js"></script>
  <script type="text/javascript" src="../lib/vendor/backbone-0.9.2-d862436d2e.js"></script>
  
  <script type="text/javascript" src="../dist/propgrid_dist.js"></script>
      
  <!-- Spec files -->
  <script src="propgrid.js" type="text/javascript" charset="utf-8"></script>

  <!-- run mocha -->
  <script type="text/javascript" charset="utf-8">
    // If tests run in a real browser
    if (navigator.userAgent.indexOf('PhantomJS') < 0) {
      mocha.run();
    } 
  </script>
</body>
</html>